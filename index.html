<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RegEx Passwords</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/viz.js@2.1.2/viz.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/viz.js@2.1.2/full.render.js"></script>
  <script defer src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
</head>
<body>
<div class="container">
  <header>
    <h1>RegEx Password Demo</h1>
    <p class="subtitle">Build and visualize regex patterns as password rules</p>
  </header>
  <div id="loading-status" class="loading-indicator">
  <div class="spinner"></div>
  <p>Loading Python interpreter...</p>
  </div>
  <div class="card">
    <h2>Define Your Password Pattern</h2>
    <div class="form-group">
      <label for="regex-input">Regex Pattern</label>
      <textarea id="regex-input" placeholder="(a|b)*abb"></textarea>
      <div id="examples">
        <button class="example-btn" data-pattern="(a|b)*abb">(a|b)*abb</button>
        <button class="example-btn" data-pattern="a*b*a*b*">a*b*a*b*</button>
        <button class="example-btn" data-pattern="(a|b)*a(a|b)(a|b)">(a|b)*a(a|b)(a|b)</button>
      </div>
    </div>
    <div class="button-group">
      <button id="convert-btn">Convert to DFA</button>
      <button id="clear-btn" class="button-secondary">Clear</button>
    </div>
    <div id="status-message" class="status"></div>
  </div>

  <div class="card" id="test-container" style="display: none;">
    <h2>Test Passwords</h2>
    <div class="form-group">
      <label for="test-input">Test a Password</label>
      <div class="test-case">
        <input type="text" id="test-input" placeholder="Enter a test string"/>
        <div class="test-result" id="test-result"></div>
      </div>
    </div>
    <button id="add-test-btn">Test Password</button>
    <div id="test-passwords"></div>
  </div>

  <div class="card visualization" id="viz-container" style="display: none;">
    <h2>DFA Visualization</h2>
    <div id="dfa-visualization">
      <p>Convert a regex pattern to see its DFA equivalent</p>
    </div>
  </div>
</div>

<footer class="footer">
  <p>Built with ❤️ and <a href="https://en.wikipedia.org/wiki/Brzozowski_derivative" target="_blank">Brzozowski derivatives</a> | <a href="https://github.com/linuscooper/rgxtodfa/" target="_blank">GitHub Repo</a></p>
</footer>

<script type="module" src="main.js"></script>
</body>
</html>
